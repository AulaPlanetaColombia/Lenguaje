/* VERSION : 15.12.22.1 */ 
var pppUI;(function(a){(function(i){function h(n,p,o,m,r){if(typeof r==="undefined"){r=true}var q=new a.UIObject(n);q.addClass(o);if(r&&TLF.isTLF(p)){q.addClass("tlfText");q.setContent(TLF.toHTML(p,function(s){if(window.hasOwnProperty("pppPreloader")){return pppPreloader.from("data",FUtils.realResourcePath(s))}else{return FUtils.realResourcePath(s)}}))}else{if(window.hasOwnProperty("pppPreloader")){p=FUtils.patchHTMLForPreloader(p)}q.setContent(p)}q.position=m;return q}i.createTextBox=h;function g(n,s,q,m,p,r){var o=new a.UIButton(n,q,p,s);o.command=r;o.position=m;return o}i.createEventButton=g;function l(u,q,v,m,t,n,s){if(typeof s==="undefined"){s=a.UIButton.BUTTON}var o;var r=new Array();for(o=0;o<t.length;o++){var p=new a.UIButton(t[o].id,t[o].className,s,t[o].content);if(m){p.x=q.x;p.y=q.y+o*v}else{p.x=q.x+o*v;p.y=q.y}p.width=q.width;p.height=q.height;p.visible=t[o].visible;p.command=n;u.addChild(p);r.push(p)}return r}i.createButtonList=l;function f(p,s,r,q){if(typeof q==="undefined"){q=a.UIButton.BUTTON}var o;var n=new Array();for(o=0;o<s.length;o++){var m=new a.UIButton(s[o].id,s[o].className,q,s[o].content);m.position=s[o].position;m.visible=s[o].visible;m.command=r;p.addChild(m);n.push(m)}return n}i.createButtonListVarPos=f;function e(r,m,n,t,s){var q;var p=new Array();for(q=0;q<t.length;q++){var o=new a.UIButton(t[q].id,t[q].className,a.UIButton.BUTTON,t[q].content);o.x=m.x;o.y=m.y+q*n;o.width=m.width;o.height=m.height;o.visible=t[q].visible;o.command=s;r.addChild(o);p.push(o)}return p}i.createButtonColumn2=e;function d(v,r,n,m,u,w,o){var p;var s=r.y;var t=new Array();for(p=0;p<u.length&&p<w;p++){var q=new a.UIButton(u[p].id,u[p].className,2,u[p].content);q.x=(p<u.length/2)?r.x:r.x+n;q.y=s+Math.floor(p%(u.length/2))*m;q.width=r.width;q.height=r.height;q.visible=u[p].visible;q.command=o;v.addChild(q);t.push(q)}return t}i.createButton2Columns=d;function j(v,q,x,n,u,o,p,t,r,w){if(typeof r==="undefined"){r="slideContainer"}if(typeof w==="undefined"){w=""}var m=new a.UISlider(r);m.addClass(w);m.position=t;v.addChild(m);var s=l(v,q,x,n,u,o,p);s.push(m);return s}i.createButtonsTabs=j;function c(n,m){if(n==null||n.DOMItem==null){return}var o=n.DOMItem;if(n instanceof a.UIRichText){o=n.$DOMItem.find("#realContent")[0];if(o==null){return}}if((o.scrollHeight-o.clientHeight)>3){var p=new a.UIImage("scrollMarker","","motor/images/scrollmarkertrans.png",a.UIImage.ADJUSTMODE_NONE,39,39);p.x=n.x+n.width-39-((m)?10:20);p.y=n.y+n.height-39-10;p.visible=false;n.parent.addChild(p);p.fadeIn(600);setTimeout(function(){if(p.DOMItem){p.fadeOut(500,function(){if(p.DOMItem){p.remove()}})}},2000)}}function k(o,n){var m=(navigator.userAgent.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile|Touch/i)!=null);var p=(navigator.userAgent.match(/Trident/i)!=null)&&(navigator.userAgent.match(/Touch/i)!=null);if(n==true&&m==false||p){return}setTimeout(function(){c(o,m)},500)}i.showScrollMarker=k})(a.Utils||(a.Utils={}));var b=a.Utils})(pppUI||(pppUI={}));var FUtils;(function(b){function d(h){if((h.indexOf("data/imagenes/")==0)||(h.indexOf("data/sonidos/")==0)||(h.indexOf("data/videos/")==0)||(h.indexOf("data/recursos/")==0)||(h.indexOf("data/actividades/")==0)||(h=="data/datos.xml")){return h}if(h.indexOf("medias/")==0){h=h.substring("medias/".length)}var g=h.substr(h.lastIndexOf(".")+1).toLowerCase();switch(g){case"jpg":case"jpeg":case"gif":case"png":case"svg":case"bmp":return"data/imagenes/"+h;case"swf":return"data/imagenes/"+h.replace(/\.swf/i,".png");case"mp4":return"data/videos/"+h;case"flv":return"data/videos/"+h.replace(/\.flv/i,".mp4");case"mp3":case"wav":return"data/sonidos/"+h;case"zip":return"data/actividades/"+h.replace(/\.zip/,"_zip")+"/Principal.html";case"xml":return"data/"+h;default:return"data/imagenes/"+h}}b.realResourcePath=d;var f={blocks:[{type:"img",files:[]}],spinner:"no",waitForDocumentReady:false,onEndLoading:null};function e(j,h){if(j==null||j==undefined||h==null||h==undefined||j==""||h==""){return}for(var g=0;g<f.blocks[0].files.length;g++){if(f.blocks[0].files[g].from==j&&f.blocks[0].files[g].file==h){return}}f.blocks[0].files.push({from:j,file:h})}b.addImageToPreloader=e;function a(g){if(f.blocks[0].files.length==0){g(f)}else{f.onEndLoading=g;pppPreloader.loadManifest(f)}}b.preloadImages=a;function c(i){var h='src="'+pppPreloader.from("data","data/imagenes/");var g="src='"+pppPreloader.from("data","data/imagenes/");i=i.replace(/src="data\/imagenes\//g,h);i=i.replace(/src='data\/imagenes\//g,g);return i}b.patchHTMLForPreloader=c})(FUtils||(FUtils={}));var conte;var TABBAR_MAX_BUTTONS=4;var TABBAR_BUT_POS={x:49,y:100,width:208,height:42};var TABBAR_BUT_SEPX=213;var TABBAR_SLIDER_POS={x:10,y:141,width:930,height:456};var TOOLBAR_BUT_POS={x:39,y:412,width:37,height:37};var TOOLBAR_BUT_SEPX=37+20;var WATERMARK_POS={x:20,y:20,width:62,height:62};function createSectionSlide(e,b,q){var f=new pppUI.UISlide("slideButton"+e);var a=new pppUI.UISlider("sliderButton"+e);a.position={x:0,y:0,width:TABBAR_SLIDER_POS.width,height:TABBAR_SLIDER_POS.height-40};a.transMode=pppUI.UISlider.TRANS_NONE;f.addChild(a);var h=$(q[e]).children("slide");for(var c=0;c<h.length;c++){var l=new pppUI.UISlide("sectionSlide"+e+"_"+c);var o=h[c].getAttribute("layout");var k=h[c].getAttribute("imagePath");var p=$.trim($(h[c]).text());var n;var d;switch(o){case"0":d=new pppUI.UIImage("imageSlide","",pppPreloader.from("data",FUtils.realResourcePath(k)),pppUI.UIImage.ADJUSTMODE_AUTOSIZE);FUtils.addImageToPreloader("data",FUtils.realResourcePath(k));d.x=42+b-240;d.y=30;l.addChild(d);n=pppUI.Utils.createTextBox("txt",p,"slideText",{x:40,y:30,width:b-240-10,height:375});l.onChildAutoSized=function(r){var j=r;var i=r.parent.getChildById("txt");j.x=42+b-j.width;j.y=30+(l.height-40-j.height)/2;i.width=b-j.width-10};break;case"1":d=new pppUI.UIImage("imageSlide","",pppPreloader.from("data",FUtils.realResourcePath(k)),pppUI.UIImage.ADJUSTMODE_AUTOSIZE);FUtils.addImageToPreloader("data",FUtils.realResourcePath(k));d.x=42;d.y=30;l.addChild(d);n=pppUI.Utils.createTextBox("txt",p,"slideText",{x:40+d.width+40,y:30,width:b-240-40,height:375});l.onChildAutoSized=function(r){var j=r;var i=r.parent.getChildById("txt");j.y=30+(l.height-40-j.height)/2;i.x=40+j.width+40;i.width=b-j.width-40};break;case"2":n=pppUI.Utils.createTextBox("txt",p,"slideText",{x:42,y:30,width:b,height:375});break;case"3":d=new pppUI.UIImage("imageSlide","",pppPreloader.from("data",FUtils.realResourcePath(k)),pppUI.UIImage.ADJUSTMODE_AUTOSIZE);FUtils.addImageToPreloader("data",FUtils.realResourcePath(k));d.x=42;d.y=30;l.addChild(d);n=null;l.onChildAutoSized=function(j){var i=j;i.y=30+(l.height-40-i.height)/2;i.x=(l.width-i.width)/2};break}if(n!=null){l.addChild(n);l.onShown=function(j){var i=j.getChildById("txt");if(i!=null){pppUI.Utils.showScrollMarker(i,true)}};if(c==0){(function(i){setTimeout(function(){i.onShown(i)},500)})(l)}}a.addSlide(l)}if(h.length>1){var g;g=[{id:"prev_sliderButton"+e,className:"sliderprevbutton",content:"",visible:false},{id:"next_sliderButton"+e,className:"slidernextbutton",content:"",visible:(a.count>1?true:false)}];var m=pppUI.Utils.createButtonList(f,TOOLBAR_BUT_POS,TOOLBAR_BUT_SEPX,false,g,function(j,r){var i=r.id.substring(4,r.id.length);switch(r.id.substring(0,4)){case"home":a.current=0;r.parent.getChildById("prev"+i).visible=false;r.parent.getChildById("next"+i).visible=(a.count>1?true:false);break;case"prev":a.prev();if(a.current==0){r.parent.getChildById("prev"+i).visible=false}r.parent.getChildById("next"+i).visible=true;break;case"next":a.next();if(a.current==(a.count-1)){r.parent.getChildById("next"+i).visible=false}r.parent.getChildById("prev"+i).visible=true;break}});f.onPrepare=function(i){a.current=0;i.getChildById("prev_sliderButton"+e).visible=false;i.getChildById("next_sliderButton"+e).visible=(a.count>1?true:false)}}return f}function positionTabFix(a,b){if(a!=null&&b!=null){var c={x:b.x+1,y:b.y+b.height-1,width:b.width-2,height:5};a.position=c}}function main(b){var a=true;if(window.hasOwnProperty("pppUIScaled")){a=window.pppUIScaled}conte=new pppUI.UIStage("__stage","diaporama_container",a,false,function(q){var u=$(b).children("engine")[0];var o=$(u).children("section");var l=u.getAttribute("title");var m=u.getAttribute("mode");var c="roundtextbutton";var e="sliderStyle";if(m=="tabs"){c="roundtextbuttonAsTab";e="slideAsTabStyle";TABBAR_BUT_POS.x=TABBAR_SLIDER_POS.x+TABBAR_SLIDER_POS.width-TABBAR_BUT_POS.width*o.length;TABBAR_BUT_SEPX=TABBAR_BUT_POS.width}q.addClass("MainBk");var t=pppUI.Utils.createTextBox("title_pri",l,"MainTitle",{x:100,y:0,width:795,height:100});q.addChild(t);var n=o.length;if(n>TABBAR_MAX_BUTTONS){n=TABBAR_MAX_BUTTONS}var s=new Array();var r=0;for(r=0;r<n;r++){s.push({id:"main_button_"+r,className:c,content:o[r].getAttribute("title"),visible:true})}var f=TABBAR_MAX_BUTTONS*TABBAR_BUT_POS.width+15;var k=pppUI.Utils.createButtonsTabs(q,TABBAR_BUT_POS,TABBAR_BUT_SEPX,false,s,function(v,x){var w=parseInt(x.id.substr("main_button_".length));var i=x.parent.getChildById("MainTabsContent");if(i.current!=w){i.current=w}if(m=="tabs"){positionTabFix(x.parent.getChildById("tabFix"),x)}},2,TABBAR_SLIDER_POS,"MainTabsContent",e);var p=null;if(m=="tabs"){p=new pppUI.UIObject("tabFix");p.addClass("tabFix");q.addChild(p)}var h;if(k.length>2){h=k[k.length-1];h.transMode=pppUI.UISlider.TRANS_FADE_FROMRIGHT;for(r=0;r<k.length-1;r++){var d=createSectionSlide(r,f,o);h.addSlide(d)}if(h.count>0){var j=k[0];j.state=pppUI.UIButton.STATE_ON;j.$DOMItem.addClass("active");if(m=="tabs"){positionTabFix(p,j)}}}var g=new pppUI.UIObject("watermark");g.addClass("watermark");g.position=WATERMARK_POS;q.addChild(g);FUtils.preloadImages(function(i){pppSpinner.hide()})})};